<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng điều khiển Khóa học</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto Mono', monospace;
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%); /* Dark, techy gradient */
            color: #e2e8f0; /* Light gray text */
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            position: relative;
        }
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M 20 0 L 0 0 0 20" fill="none" stroke="%234a5568" stroke-width="0.5"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grid)"/></svg>');
            opacity: 0.1;
            z-index: -1;
        }
        .header {
            background: linear-gradient(90deg, #63b3ed 0%, #805ad5 100%); /* Blue to purple gradient */
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            font-family: 'Orbitron', sans-serif;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        .logout-button {
            background-color: #e53e3e; /* Red for logout */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 700;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        .logout-button:hover {
            background-color: #c53030;
            transform: translateY(-2px);
        }
        .course-card {
            background-color: rgba(26, 32, 44, 0.8); /* Semi-transparent dark background */
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
            margin-bottom: 25px;
            border: 1px solid #4a5568;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }
        .course-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
        }
        .course-card h3 {
            color: #63b3ed; /* Techy blue */
            margin-bottom: 15px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            text-shadow: 0 0 8px rgba(99, 179, 237, 0.3);
        }
        .course-card p {
            color: #a0aec0; /* Lighter gray for description */
            margin-bottom: 20px;
            font-size: 1rem;
        }
        .course-card a {
            display: inline-block;
            background: linear-gradient(90deg, #63b3ed 0%, #805ad5 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 700;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }
        .course-card a:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            background: linear-gradient(90deg, #805ad5 0%, #63b3ed 100%);
        }
        h2 {
            color: #63b3ed;
            font-family: 'Orbitron', sans-serif;
            text-shadow: 0 0 10px rgba(99, 179, 237, 0.5);
            margin-bottom: 20px;
        }
        h3.mb-4 { /* For "Các khóa học của bạn" */
            color: #a0aec0;
            font-family: 'Roboto Mono', monospace;
            font-size: 1.5rem;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container flex justify-between items-center">
            <h1 class="text-3xl font-bold">Bảng điều khiển Khóa học</h1>
            <nav>
                <button onclick="logoutUser()" class="logout-button">Đăng xuất</button>
            </nav>
        </div>
    </header>

    <main class="container my-8">
        <h2 class="text-2xl font-bold mb-6">Chào mừng, <span id="usernameDisplay"></span>!</h2>
        <h3 class="text-xl font-bold mb-4">Các khóa học của bạn:</h3>
        <div id="coursesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Các khóa học sẽ được tải ở đây bằng JavaScript -->
        </div>
    </main>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const usernameDisplay = document.getElementById('usernameDisplay');
            const coursesList = document.getElementById('coursesList');
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));

            if (currentUser) {
                usernameDisplay.textContent = currentUser.username;

                const courseMap = {
                    "khoahoc_ungdungcanva": {
                        title: "Khóa Học Xây Dựng Ứng Dụng Học Tập",
                        description: "Nâng tầm kỹ năng dạy học của bạn với AI. Khám phá các bí quyết và thủ thuật để tạo ra những ứng dụng học tập chuyên nghiệp, ấn tượng và thu hút mọi học sinh.",
                        link: "khoahoc_ungdungcanva.html"
                    },
                    "khoahoc_ungdung_ai_truyentranh": {
                        title: "Ứng Dụng AI Tạo Truyện Tranh Minh Họa Nội Dung",
                        description: "Ứng dụng Tạo truyện tranh bằng AI là công cụ hỗ trợ người dùng biến ý tưởng thành những câu chuyện tranh sinh động chỉ trong vài bước đơn giản.",
                        link: "khoahoc_ungdung_ai_truyentranh.html"
                    }
                };

                if (currentUser.courses && currentUser.courses.length > 0) {
                    currentUser.courses.forEach(courseId => {
                        const courseInfo = courseMap[courseId];
                        if (courseInfo) {
                            const card = document.createElement('div');
                            card.className = 'course-card';
                            card.innerHTML = `
                                <h3>${courseInfo.title}</h3>
                                <p>${courseInfo.description}</p>
                                <a href="${courseInfo.link}">Vào học</a>
                            `;
                            coursesList.appendChild(card);
                        }
                    });
                } else {
                    coursesList.innerHTML = '<p class="text-center text-gray-400">Bạn chưa có khóa học nào được cấp quyền truy cập.</p>';
                }
            } else {
                // Nếu không có currentUser, chuyển hướng về trang đăng nhập (đã được xử lý trong script.js)
            }
        });
    </script>
</body>
</html>
