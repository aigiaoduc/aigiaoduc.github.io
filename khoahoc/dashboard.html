<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng điều khiển Khóa học</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .header {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        .logout-button {
            background-color: #ef4444;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        .logout-button:hover {
            background-color: #dc2626;
            transform: translateY(-2px);
        }
        .course-card {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        .course-card h3 {
            color: #007bff;
            margin-bottom: 10px;
        }
        .course-card a {
            display: inline-block;
            background-color: #007bff;
            color: white;
            padding: 8px 15px;
            border-radius: 4px;
            text-decoration: none;
            margin-top: 10px;
        }
        .course-card a:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container flex justify-between items-center">
            <h1 class="text-3xl font-bold">Bảng điều khiển Khóa học</h1>
            <nav>
                <button onclick="logoutUser()" class="logout-button">Đăng xuất</button>
            </nav>
        </div>
    </header>

    <main class="container my-8">
        <h2 class="text-2xl font-bold mb-6">Chào mừng, <span id="usernameDisplay"></span>!</h2>
        <h3 class="text-xl font-bold mb-4">Các khóa học của bạn:</h3>
        <div id="coursesList">
            <!-- Các khóa học sẽ được tải ở đây bằng JavaScript -->
        </div>
    </main>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const usernameDisplay = document.getElementById('usernameDisplay');
            const coursesList = document.getElementById('coursesList');
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));

            if (currentUser) {
                usernameDisplay.textContent = currentUser.username;

                const courseMap = {
                    "khoahoc_ungdungcanva": {
                        title: "Khóa Học Xây Dựng Ứng Dụng Học Tập",
                        description: "Nâng tầm kỹ năng dạy học của bạn với AI. Khám phá các bí quyết và thủ thuật để tạo ra những ứng dụng học tập chuyên nghiệp, ấn tượng và thu hút mọi học sinh.",
                        link: "khoahoc_ungdungcanva.html"
                    },
                    "khoahoc_ungdung_ai_truyentranh": {
                        title: "Ứng Dụng AI Tạo Truyện Tranh Minh Họa Nội Dung",
                        description: "Ứng dụng Tạo truyện tranh bằng AI là công cụ hỗ trợ người dùng biến ý tưởng thành những câu chuyện tranh sinh động chỉ trong vài bước đơn giản.",
                        link: "khoahoc_ungdung_ai_truyentranh.html"
                    }
                };

                if (currentUser.courses && currentUser.courses.length > 0) {
                    currentUser.courses.forEach(courseId => {
                        const courseInfo = courseMap[courseId];
                        if (courseInfo) {
                            const card = document.createElement('div');
                            card.className = 'course-card';
                            card.innerHTML = `
                                <h3>${courseInfo.title}</h3>
                                <p>${courseInfo.description}</p>
                                <a href="${courseInfo.link}">Vào học</a>
                            `;
                            coursesList.appendChild(card);
                        }
                    });
                } else {
                    coursesList.innerHTML = '<p>Bạn chưa có khóa học nào được cấp quyền truy cập.</p>';
                }
            } else {
                // Nếu không có currentUser, chuyển hướng về trang đăng nhập (đã được xử lý trong script.js)
            }
        });
    </script>
</body>
</html>
